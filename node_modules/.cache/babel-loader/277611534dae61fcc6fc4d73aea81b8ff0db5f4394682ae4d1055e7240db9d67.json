{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport { getClassroomId, getClassroomList } from \"../../../api_handler/classroom_api_handler\";\nexport async function fetchClassroomList(setIsLoading, setClassroomList) {\n  let classroomList;\n  try {\n    classroomList = await getClassroomList();\n  } catch (e) {\n    alert(e);\n  }\n  setClassroomList(classroomList);\n  setIsLoading(false);\n  return classroomList;\n}\nexport async function classroomOpen(originClassroomList, setClassroomList, message) {\n  const userClassroomId = await getClassroomId();\n  if (message.classroomId === userClassroomId) {\n    \"open classroom success\";\n    return;\n  }\n  const newList = originClassroomList.map(classroom => {\n    if (classroom.classroomId === message.classroomId) {\n      const classSetting = JSON.parse(message.message);\n      return {\n        ...classroom,\n        classTime: classSetting.classTime,\n        status: 'online'\n      };\n    }\n    return classroom;\n  });\n  setClassroomList(newList);\n}\nexport async function classroomClose(originClassroomList, setClassroomList, classroomId) {\n  const userClassroomId = await getClassroomId();\n  if (classroomId === userClassroomId) {\n    toast.info(\"close classroom success\");\n    return;\n  }\n  const newList = originClassroomList.map(classroom => {\n    if (classroom.classroomId === classroomId) {\n      return {\n        ...classroom,\n        classTime: 0,\n        status: 'offline'\n      };\n    }\n    return classroom;\n  });\n  setClassroomList(newList);\n}","map":{"version":3,"names":["toast","getClassroomId","getClassroomList","fetchClassroomList","setIsLoading","setClassroomList","classroomList","e","alert","classroomOpen","originClassroomList","message","userClassroomId","classroomId","newList","map","classroom","classSetting","JSON","parse","classTime","status","classroomClose","info"],"sources":["/Users/hongyixun/Desktop/tmentor/tmentor_web/src/pages/classroom/service/classroom_list_service.js"],"sourcesContent":["import { toast } from \"react-toastify\";\nimport { getClassroomId, getClassroomList } from \"../../../api_handler/classroom_api_handler\";\n\nexport async function fetchClassroomList(setIsLoading, setClassroomList) {\n    let classroomList\n\n    try {\n        classroomList = await getClassroomList()\n    } catch(e) {\n        alert(e)\n    }\n\n    setClassroomList(classroomList)\n    setIsLoading(false)\n    return classroomList\n}\n\nexport async function classroomOpen(originClassroomList, setClassroomList, message) {\n    const userClassroomId = await getClassroomId()\n\n    if(message.classroomId === userClassroomId) {\n        (\"open classroom success\")\n        return\n    }\n\n    const newList = originClassroomList.map((classroom) => {\n        if(classroom.classroomId === message.classroomId) {\n            const classSetting = JSON.parse(message.message)\n            return {...classroom, classTime: classSetting.classTime, status: 'online'}\n        }\n        return classroom\n    })\n    setClassroomList(newList)\n}\n\nexport async function classroomClose(originClassroomList, setClassroomList, classroomId) {\n    const userClassroomId = await getClassroomId()\n\n    if(classroomId === userClassroomId) {\n        toast.info(\"close classroom success\")\n        return\n    }\n\n    const newList = originClassroomList.map((classroom) => {\n        if(classroom.classroomId === classroomId) {\n            return {...classroom, classTime: 0, status: 'offline'}\n        }\n        return classroom\n    })\n    setClassroomList(newList)\n}"],"mappings":"AAAA,SAASA,KAAK,QAAQ,gBAAgB;AACtC,SAASC,cAAc,EAAEC,gBAAgB,QAAQ,4CAA4C;AAE7F,OAAO,eAAeC,kBAAkBA,CAACC,YAAY,EAAEC,gBAAgB,EAAE;EACrE,IAAIC,aAAa;EAEjB,IAAI;IACAA,aAAa,GAAG,MAAMJ,gBAAgB,EAAE;EAC5C,CAAC,CAAC,OAAMK,CAAC,EAAE;IACPC,KAAK,CAACD,CAAC,CAAC;EACZ;EAEAF,gBAAgB,CAACC,aAAa,CAAC;EAC/BF,YAAY,CAAC,KAAK,CAAC;EACnB,OAAOE,aAAa;AACxB;AAEA,OAAO,eAAeG,aAAaA,CAACC,mBAAmB,EAAEL,gBAAgB,EAAEM,OAAO,EAAE;EAChF,MAAMC,eAAe,GAAG,MAAMX,cAAc,EAAE;EAE9C,IAAGU,OAAO,CAACE,WAAW,KAAKD,eAAe,EAAE;IACvC,wBAAwB;IACzB;EACJ;EAEA,MAAME,OAAO,GAAGJ,mBAAmB,CAACK,GAAG,CAAEC,SAAS,IAAK;IACnD,IAAGA,SAAS,CAACH,WAAW,KAAKF,OAAO,CAACE,WAAW,EAAE;MAC9C,MAAMI,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACR,OAAO,CAACA,OAAO,CAAC;MAChD,OAAO;QAAC,GAAGK,SAAS;QAAEI,SAAS,EAAEH,YAAY,CAACG,SAAS;QAAEC,MAAM,EAAE;MAAQ,CAAC;IAC9E;IACA,OAAOL,SAAS;EACpB,CAAC,CAAC;EACFX,gBAAgB,CAACS,OAAO,CAAC;AAC7B;AAEA,OAAO,eAAeQ,cAAcA,CAACZ,mBAAmB,EAAEL,gBAAgB,EAAEQ,WAAW,EAAE;EACrF,MAAMD,eAAe,GAAG,MAAMX,cAAc,EAAE;EAE9C,IAAGY,WAAW,KAAKD,eAAe,EAAE;IAChCZ,KAAK,CAACuB,IAAI,CAAC,yBAAyB,CAAC;IACrC;EACJ;EAEA,MAAMT,OAAO,GAAGJ,mBAAmB,CAACK,GAAG,CAAEC,SAAS,IAAK;IACnD,IAAGA,SAAS,CAACH,WAAW,KAAKA,WAAW,EAAE;MACtC,OAAO;QAAC,GAAGG,SAAS;QAAEI,SAAS,EAAE,CAAC;QAAEC,MAAM,EAAE;MAAS,CAAC;IAC1D;IACA,OAAOL,SAAS;EACpB,CAAC,CAAC;EACFX,gBAAgB,CAACS,OAAO,CAAC;AAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}