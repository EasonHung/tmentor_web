{"ast":null,"code":"import { getUserId } from \"../cookie_handler/user_cookie_handler\";\nconst userApiBaseUrl = \"https://tmentor.xyz/user_system\";\nexport async function LoginByThirdParty(thirdPartyId, thirdPartyAccessToken) {\n  const response = await fetch(userApiBaseUrl + '/user/thirdParty/login', {\n    method: 'POST',\n    body: JSON.stringify({\n      \"thirdPartyId\": thirdPartyId,\n      \"thirdPartyAccessToken\": thirdPartyAccessToken\n    })\n  });\n  const responseBody = await response.json();\n  if (responseBody.code !== \"0000\") {\n    throw new Error('login fail!');\n  }\n  return responseBody.data;\n}\n_c = LoginByThirdParty;\nexport async function refreshToken(refreshToken) {\n  const response = await fetch(userApiBaseUrl + '/user/token/refresh', {\n    method: 'POST',\n    body: JSON.stringify({\n      \"userToken\": refreshToken\n    })\n  });\n  const responseBody = await response.json();\n  if (responseBody.code !== \"0000\") {\n    throw new Error('server error!');\n  }\n  return responseBody.data;\n}\nexport async function getUserInfo() {\n  const response = await fetch(userApiBaseUrl + '/userInfo/?userId=' + getUserId());\n}\nvar _c;\n$RefreshReg$(_c, \"LoginByThirdParty\");","map":{"version":3,"names":["getUserId","userApiBaseUrl","LoginByThirdParty","thirdPartyId","thirdPartyAccessToken","response","fetch","method","body","JSON","stringify","responseBody","json","code","Error","data","_c","refreshToken","getUserInfo","$RefreshReg$"],"sources":["/Users/hongyixun/Desktop/tmentor/tmentor_web/src/api_handler/user_api_handler.js"],"sourcesContent":["import { getUserId } from \"../cookie_handler/user_cookie_handler\";\n\nconst userApiBaseUrl = \"https://tmentor.xyz/user_system\"\n\nexport async function LoginByThirdParty(thirdPartyId, thirdPartyAccessToken) {\n    const response = await fetch(userApiBaseUrl + '/user/thirdParty/login',{\n        method: 'POST',\n        body: JSON.stringify({\n            \"thirdPartyId\": thirdPartyId, \n            \"thirdPartyAccessToken\": thirdPartyAccessToken\n        }),\n    });\n\n    const responseBody = await response.json()\n    if(responseBody.code !== \"0000\") {\n        throw new Error('login fail!');\n    }\n\n    return responseBody.data;\n}\n\nexport async function refreshToken(refreshToken) {\n    const response = await fetch(userApiBaseUrl + '/user/token/refresh', {\n        method: 'POST',\n        body: JSON.stringify({\n            \"userToken\": refreshToken\n        }),\n    });\n\n    const responseBody = await response.json()\n    if(responseBody.code !== \"0000\") {\n        throw new Error('server error!');\n    }\n\n    return responseBody.data\n}\n\nexport async function getUserInfo() {\n    const response = await fetch(userApiBaseUrl + '/userInfo/?userId=' + getUserId())\n}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,uCAAuC;AAEjE,MAAMC,cAAc,GAAG,iCAAiC;AAExD,OAAO,eAAeC,iBAAiBA,CAACC,YAAY,EAAEC,qBAAqB,EAAE;EACzE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,cAAc,GAAG,wBAAwB,EAAC;IACnEM,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjB,cAAc,EAAEP,YAAY;MAC5B,uBAAuB,EAAEC;IAC7B,CAAC;EACL,CAAC,CAAC;EAEF,MAAMO,YAAY,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;EAC1C,IAAGD,YAAY,CAACE,IAAI,KAAK,MAAM,EAAE;IAC7B,MAAM,IAAIC,KAAK,CAAC,aAAa,CAAC;EAClC;EAEA,OAAOH,YAAY,CAACI,IAAI;AAC5B;AAACC,EAAA,GAfqBd,iBAAiB;AAiBvC,OAAO,eAAee,YAAYA,CAACA,YAAY,EAAE;EAC7C,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAACL,cAAc,GAAG,qBAAqB,EAAE;IACjEM,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjB,WAAW,EAAEO;IACjB,CAAC;EACL,CAAC,CAAC;EAEF,MAAMN,YAAY,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;EAC1C,IAAGD,YAAY,CAACE,IAAI,KAAK,MAAM,EAAE;IAC7B,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;EACpC;EAEA,OAAOH,YAAY,CAACI,IAAI;AAC5B;AAEA,OAAO,eAAeG,WAAWA,CAAA,EAAG;EAChC,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAACL,cAAc,GAAG,oBAAoB,GAAGD,SAAS,EAAE,CAAC;AACrF;AAAC,IAAAgB,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}