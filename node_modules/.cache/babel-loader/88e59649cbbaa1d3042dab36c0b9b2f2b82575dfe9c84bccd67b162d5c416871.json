{"ast":null,"code":"import { user_api_error_code } from \"./error_code\";\nimport { refreshToken } from \"./user_api_handler\";\nconst classroomApiBaseUrl = \"https://tmentor.xyz/classroom\";\nexport async function getClassroomList(userId, userToken, userrefreshToken) {\n  const response = await fetch(classroomApiBaseUrl + '/info/classroomList?userId=' + userId, {\n    headers: {\n      authToken: userToken\n    }\n  });\n  const responseBody = await response.json();\n  if (responseBody.code === user_api_error_code.tokenExpired) {\n    newTokens = await refreshToken();\n  }\n  if (responseBody.code !== \"0000\") {\n    throw new Error('get classroom list fail!');\n  }\n  return responseBody.data;\n}","map":{"version":3,"names":["user_api_error_code","refreshToken","classroomApiBaseUrl","getClassroomList","userId","userToken","userrefreshToken","response","fetch","headers","authToken","responseBody","json","code","tokenExpired","newTokens","Error","data"],"sources":["/Users/hongyixun/Desktop/tmentor/tmentor_web/src/api_handler/classroom_api_handler.js"],"sourcesContent":["import { user_api_error_code } from \"./error_code\";\nimport { refreshToken } from \"./user_api_handler\";\n\nconst classroomApiBaseUrl = \"https://tmentor.xyz/classroom\"\n\nexport async function getClassroomList(userId, userToken, userrefreshToken) {\n    const response = await fetch(classroomApiBaseUrl + '/info/classroomList?userId=' + userId, {\n        headers: {\n            authToken: userToken\n        }\n    });\n\n    const responseBody = await response.json()\n\n    if(responseBody.code === user_api_error_code.tokenExpired) {\n        newTokens = await refreshToken()\n    }\n    if(responseBody.code !== \"0000\") {\n        throw new Error('get classroom list fail!');\n    }\n\n    return responseBody.data;\n}"],"mappings":"AAAA,SAASA,mBAAmB,QAAQ,cAAc;AAClD,SAASC,YAAY,QAAQ,oBAAoB;AAEjD,MAAMC,mBAAmB,GAAG,+BAA+B;AAE3D,OAAO,eAAeC,gBAAgBA,CAACC,MAAM,EAAEC,SAAS,EAAEC,gBAAgB,EAAE;EACxE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,mBAAmB,GAAG,6BAA6B,GAAGE,MAAM,EAAE;IACvFK,OAAO,EAAE;MACLC,SAAS,EAAEL;IACf;EACJ,CAAC,CAAC;EAEF,MAAMM,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;EAE1C,IAAGD,YAAY,CAACE,IAAI,KAAKb,mBAAmB,CAACc,YAAY,EAAE;IACvDC,SAAS,GAAG,MAAMd,YAAY,EAAE;EACpC;EACA,IAAGU,YAAY,CAACE,IAAI,KAAK,MAAM,EAAE;IAC7B,MAAM,IAAIG,KAAK,CAAC,0BAA0B,CAAC;EAC/C;EAEA,OAAOL,YAAY,CAACM,IAAI;AAC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}