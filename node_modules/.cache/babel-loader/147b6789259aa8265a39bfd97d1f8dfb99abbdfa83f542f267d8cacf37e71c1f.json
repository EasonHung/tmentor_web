{"ast":null,"code":"var _s = $RefreshSig$();\nimport { LoginByThirdParty } from \"../../../api_handler/user_api_handler/user_api_handler\";\nimport { setUserIdAndToken } from \"../../../cookie_handler/user_cookie_handler\";\nimport { useNavigate } from 'react-router-dom';\nexport async function login(googleUser) {\n  _s();\n  const navigate = useNavigate();\n  const googlerUserId = googleUser.getBasicProfile().getId();\n  const googlerUserAccessToken = googleUser.getAuthResponse(true).access_token;\n  let tMentorUser;\n  try {\n    tMentorUser = await LoginByThirdParty(googlerUserId, googlerUserAccessToken);\n  } catch (e) {\n    alert(e);\n  }\n  if (tMentorUser.userStatus !== \"student\") {\n    alert(\"please finish userInfo first\");\n    return;\n  }\n  setUserIdAndToken(tMentorUser.userId, tMentorUser.accessToken, tMentorUser.refreshToken);\n  navigate('/classroom');\n}\n_s(login, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["LoginByThirdParty","setUserIdAndToken","useNavigate","login","googleUser","_s","navigate","googlerUserId","getBasicProfile","getId","googlerUserAccessToken","getAuthResponse","access_token","tMentorUser","e","alert","userStatus","userId","accessToken","refreshToken"],"sources":["/Users/hongyixun/Desktop/tmentor/tmentor_web/src/pages/home/service/loginService.js"],"sourcesContent":["import { LoginByThirdParty } from \"../../../api_handler/user_api_handler/user_api_handler\";\nimport { setUserIdAndToken } from \"../../../cookie_handler/user_cookie_handler\";\nimport { useNavigate } from 'react-router-dom';\n\nexport async function login(googleUser) {\n    const navigate = useNavigate()\n    \n    const googlerUserId = googleUser.getBasicProfile().getId()\n    const googlerUserAccessToken = googleUser.getAuthResponse(true).access_token\n    let tMentorUser\n\n    try {\n        tMentorUser = await LoginByThirdParty(googlerUserId, googlerUserAccessToken)\n    } catch(e) {\n        alert(e)\n    }\n\n    if(tMentorUser.userStatus !== \"student\") {\n        alert(\"please finish userInfo first\")\n        return\n    }\n    setUserIdAndToken(tMentorUser.userId, tMentorUser.accessToken, tMentorUser.refreshToken)\n    navigate('/classroom')\n} "],"mappings":";AAAA,SAASA,iBAAiB,QAAQ,wDAAwD;AAC1F,SAASC,iBAAiB,QAAQ,6CAA6C;AAC/E,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,eAAeC,KAAKA,CAACC,UAAU,EAAE;EAAAC,EAAA;EACpC,MAAMC,QAAQ,GAAGJ,WAAW,EAAE;EAE9B,MAAMK,aAAa,GAAGH,UAAU,CAACI,eAAe,EAAE,CAACC,KAAK,EAAE;EAC1D,MAAMC,sBAAsB,GAAGN,UAAU,CAACO,eAAe,CAAC,IAAI,CAAC,CAACC,YAAY;EAC5E,IAAIC,WAAW;EAEf,IAAI;IACAA,WAAW,GAAG,MAAMb,iBAAiB,CAACO,aAAa,EAAEG,sBAAsB,CAAC;EAChF,CAAC,CAAC,OAAMI,CAAC,EAAE;IACPC,KAAK,CAACD,CAAC,CAAC;EACZ;EAEA,IAAGD,WAAW,CAACG,UAAU,KAAK,SAAS,EAAE;IACrCD,KAAK,CAAC,8BAA8B,CAAC;IACrC;EACJ;EACAd,iBAAiB,CAACY,WAAW,CAACI,MAAM,EAAEJ,WAAW,CAACK,WAAW,EAAEL,WAAW,CAACM,YAAY,CAAC;EACxFb,QAAQ,CAAC,YAAY,CAAC;AAC1B;AAACD,EAAA,CAnBqBF,KAAK;EAAA,QACND,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}